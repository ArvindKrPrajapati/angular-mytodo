<app-loading *ngIf="loading"></app-loading>
<div class="dashboard p-3">
  <div class="row gx-3 p-2">
    <div class="col-12 graph col-md-3">
      <a
        routerLink="/todays-task"
        [queryParams]="{ modal: 'open' }"
        class="col-mycard mb-mobile-2 d-flex align-items-center justify-content-center text-white text-decoration-none bg-success"
      >
        <svg width="40px" fill="white" viewBox="0 0 24 24">
          <path
            d="M11,19A6,6 0 0,0 17,13H19A8,8 0 0,1 11,21A8,8 0 0,1 3,13A8,8 0 0,1 11,5V7A6,6 0 0,0 5,13A6,6 0 0,0 11,19M19,5H22V7H19V10H17V7H14V5H17V2H19V5Z"
          />
        </svg>
        <h4 class="m-3">Add Task</h4>
      </a>
    </div>
    <div class="col-12 col-md-6">
      <div class="col-mycard d-flex align-items-center p-3 mb-mobile-1">
        <img src="../../../assets/dp.png" class="dp" />
        <div>
          <h5 class="m-0">{{ user?.name }}</h5>
          <small class="d-block">{{ user?.email }}</small>
        </div>
      </div>
    </div>
    <div class="col-12 graph col-md-3">
      <div class="col-mycard">
        Total
        <h4 class="">{{ data?.total || 0 }}</h4>
      </div>
    </div>
  </div>
  <div class="cards mt-2 mb-2">
    <a routerLink="/todays-task" class="mycard">
      Today's Pending
      <h4 class="">{{ data?.pendingToday || 0 }}</h4>
    </a>

    <a routerLink="/todays-task" class="mycard">
      Today's Done
      <h4 class="">{{ data?.doneToday || 0 }}</h4>
    </a>

    <a routerLink="/overall-done" class="mycard">
      Overall Done
      <h4 class="">{{ data?.done || 0 }}</h4>
    </a>

    <a routerLink="/overall-pending" class="mycard">
      Overall Pending
      <h4 class="">{{ data?.pending || 0 }}</h4>
    </a>
  </div>
  <div class="row gx-3 p-2">
    <div class="col-12 col-md-6">
      <div class="bg-white p-4">
        <h5 class="p-1">Overall Pending</h5>
        <div>
          <canvas
            height="340"
            baseChart
            [type]="'line'"
            [datasets]="chartData"
            [labels]="lineChartLabels"
            [options]="{ responsive: true, maintainAspectRatio: false }"
          ></canvas>
        </div>
      </div>
    </div>
    <div class="col-12 graph col-md-6">
      <div class="bg-white p-4">
        <h5 class="p-1">Task Distibution</h5>
        <div>
          <canvas
            height="340"
            baseChart
            [type]="'bar'"
            [datasets]="barChartData.datasets"
            [labels]="barChartData.labels"
            [options]="{ responsive: true, maintainAspectRatio: false }"
          ></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
